<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">王诗杰</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">王诗杰</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">王诗杰</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-一.定义变量 let和const" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/07/26/一.定义变量 let和const/" class="article-date">
  	<time datetime="2017-07-26T10:35:48.449Z" itemprop="datePublished">2017-07-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##一.定义变量 let和const</p>
<p>###let命令</p>
<p>####基本语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">let a=[];</div><div class="line">for(let i=0;i&lt;10;i++)&#123;</div><div class="line">   a[i]=function()&#123;</div><div class="line">      return i</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">a[2]();</div></pre></td></tr></table></figure></p>
<p>####不存在变量提升<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">console.log(a);//报错</div><div class="line">let a=0;</div></pre></td></tr></table></figure></p>
<p>####暂时性死区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if(true)&#123;</div><div class="line">   console.log(a);	//报错</div><div class="line">   let a=&quot;AA&quot;;</div><div class="line">   console.log(a);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>####不允许重复声明<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function()&#123;</div><div class="line">   var a=1;</div><div class="line">   let a=2;//报错</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>###块级作用域</p>
<p>####之前的不合理(为什么需要块级作用域)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var t=&apos;tt&apos;;</div><div class="line">if(false)&#123;</div><div class="line">   var t=&quot;TT&quot;;</div><div class="line">&#125;</div><div class="line">for(var i=0;i&lt;10;i++)&#123;</div><div class="line">   console.log(i);</div><div class="line">&#125;</div><div class="line">console.log(i);//循环完成i没有消失,泄露成全局的变量</div></pre></td></tr></table></figure></p>
<p>####ES6的块级作用域<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   let a=0;</div><div class="line">   &#123;</div><div class="line">      let b=2;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>###const命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//const 定义的是静态变量,不能修改值,必须要赋值</div><div class="line">//不赋值就会报错:Missing initializer in const declaration</div><div class="line">    const g=10;</div><div class="line">//g=20;// 不可以修改Assignment to constant variable</div><div class="line">//不可以重复声明的(不管是动态变量还是静态变量都不可以重复定义)</div><div class="line">//const g=20;//Identifier &apos;g&apos; has already been declared</div><div class="line">    let a=1;</div><div class="line">    //const a=2;</div><div class="line">    &#123;</div><div class="line">        const a=0;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>###跨模块常量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//moudel1.js模块</div><div class="line">export const A=1;</div><div class="line">export const B=2;</div><div class="line">//test1.js模块</div><div class="line">import * as obj from &apos;./constants&apos;;</div><div class="line">console.log(obj.A)</div><div class="line">console.log(obj.B)</div><div class="line">//test2.js模块</div><div class="line">import &#123;A,B&#125; from &apos;./constants&apos;;</div><div class="line">console.log(A)</div><div class="line">console.log(B)</div></pre></td></tr></table></figure></p>
<p>###全局对象的属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line">let b=0;</div><div class="line">console.log(this.b);//undefined</div><div class="line">console.log(window.b);//undefined</div></pre></td></tr></table></figure></p>
<h2 id="二-变量的解构赋值"><a href="#二-变量的解构赋值" class="headerlink" title="二.变量的解构赋值"></a>二.变量的解构赋值</h2><p>###数组的解构赋值</p>
<p>####基本用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//解构赋值</div><div class="line">let arr=[&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;,&quot;dd&quot;];</div><div class="line">let [a,b,c]=arr;</div><div class="line">console.log(a, b, c);</div><div class="line">//嵌套赋值</div><div class="line">let [x,y,[s],[[f]]]=[1,2,[3],[[4]]];</div><div class="line">console.log(x, y, s, f);</div><div class="line">//省略赋值</div><div class="line">let ary=[1,2,3,4,5,6];</div><div class="line">let [x,,,,y]=ary;</div><div class="line">console.log(x, y);</div><div class="line">//不定参数</div><div class="line">let [,,x,,...y]=[1,2,3,4,5,6,7,8,9,0];</div><div class="line">console.log(x, y);</div></pre></td></tr></table></figure></p>
<p>####默认值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let [f2,f3=2]=[1];</div><div class="line">console.log(f2, f3);</div></pre></td></tr></table></figure></p>
<p>###对象的解构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">//解构赋值</div><div class="line">let &#123;n,m:m1&#125;=&#123;n:&quot;nn&quot;,m:&apos;mm&apos;&#125;;</div><div class="line">console.log(n, m1);</div><div class="line">//嵌套</div><div class="line">let obj=&#123;s:&#123;n:&apos;1&apos;&#125;,n:[1,&quot;2&quot;,3,&quot;4&quot;],m:[[1]]&#125;;</div><div class="line">let &#123;m:[x1],s:&#123;n&#125;,n:[,...m2]&#125;=obj;</div><div class="line">console.log(x1, n, m2);</div><div class="line">//[1],&quot;1&quot;,[&quot;2&quot;,3,&quot;4&quot;]</div><div class="line">//默认值</div><div class="line">let &#123;m:n=4&#125;=&#123;&#125;;</div><div class="line">console.log(n);//4</div><div class="line">let &#123;a:cc=22&#125;=&#123;a:12&#125;;</div><div class="line">console.log(cc);//12</div><div class="line">//其他问题</div><div class="line">&apos;use strict&apos;;</div><div class="line">//赋的值不是一个对象是个其他数据类型的值,会默认将其他数据类型转为对象</div><div class="line">let &#123;x,y,__proto__&#125;=1;//&#123;__proto__:Number&#125;</div><div class="line">console.log(x, y,__proto__);</div><div class="line">console.log(Object(1));</div><div class="line">console.log(Object([1, 2, 3]));</div><div class="line">let &#123;length&#125;=[1,2,3];</div><div class="line">console.log(length);</div><div class="line"></div><div class="line">let a;</div><div class="line">//&#123;a&#125;=&#123;a:&quot;a&quot;&#125;;</div><div class="line">//JavaScrip引擎会将&#123;a&#125;理解成一个代码块</div><div class="line">//为了避免错误,不要将&#123;&#125;写在行首</div><div class="line">eval(&quot;(&#123;s:&apos;ss&apos;,d:&apos;d&apos;&#125;)&quot;);</div><div class="line">(&#123;a&#125;=&#123;a:&quot;a&quot;&#125;);</div><div class="line">console.log(a);</div><div class="line"></div><div class="line">(&#123;&#125;=[]);</div><div class="line">//null 和 undefined无法转为对象,所以对象结果赋值为一个null和undefined会报错</div><div class="line">//let &#123;p:yy&#125;=null;</div><div class="line">//let &#123;p:xx&#125;=undefined;</div></pre></td></tr></table></figure></p>
<p>###字符串的解构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//此时是将字符串转为类似数组的一个对象</div><div class="line">    let [x,y,z]=&apos;123&apos;;</div><div class="line">    console.log(x, y, z);</div><div class="line"></div><div class="line">    let &#123;length&#125;=&apos;12345&apos;;</div><div class="line">    console.log(length);</div><div class="line">    //console.log(Array(&quot;12345&quot;));</div></pre></td></tr></table></figure></p>
<p>###数值和布尔的结构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//解构赋值时,如果等号右边是数值或者布尔值,则会先转为对象</div><div class="line">let &#123;toString:s&#125;=123;</div><div class="line">s===Number.prototype.toString ;//true</div><div class="line"></div><div class="line">let &#123;toString:t&#125;=true;</div><div class="line">t===Boolean.prototype.toString ;//true</div></pre></td></tr></table></figure></p>
<p>###函数参数的解构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function move([x=10,y])&#123;</div><div class="line">	console.log(x,y)</div><div class="line">&#125;</div><div class="line">move([,3]);</div><div class="line">//注意:</div><div class="line">function get(&#123;x=0,y=0&#125;=&#123;&#125;)</div><div class="line">function get(&#123;x,y&#125;=&#123;x:0,y:0&#125;)</div></pre></td></tr></table></figure></p>
<p>###圆括号的问题</p>
<p>####不能使用括号的情况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//1.变量声明语句中,模式不能带有括号</div><div class="line">    let [(a)]=[1];</div><div class="line">    let &#123;x:(c)&#125;=&#123;&#125;;</div><div class="line">    let &#123;o:(&#123;p:p&#125;)&#125;=&#123;o:&#123;p:1&#125;&#125;</div><div class="line">//这三个都会报错</div><div class="line">//2.函数参数也属于变量声明,所以也不需要加括号</div><div class="line">function f([(z)])&#123;return z;&#125;//报错</div><div class="line">//3.不可以将整个模式或者嵌套模式中的一层放在括号中</div><div class="line">//全部报错</div><div class="line">(&#123;p:a&#125;)=&#123;p:2&#125;;</div><div class="line">([a])=[5];</div></pre></td></tr></table></figure></p>
<p>####可以使用括号的情况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">可以使用的只有只一种情况:赋值语句的非模式部分可以使用括号.</div><div class="line">[(b)]=[3];</div><div class="line">(&#123;p:(d)&#125;=&#123;&#125;);</div><div class="line">[(p.p)]=[3]</div></pre></td></tr></table></figure></p>
<p>###用途</p>
<p>####交换变量的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[x,y]=[y,x]</div></pre></td></tr></table></figure></p>
<p>####从函数返回多个值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//返回一个数组</div><div class="line">function example()&#123;</div><div class="line">   return [1,2,3]</div><div class="line">&#125;</div><div class="line">let [a,b,c]=example();</div><div class="line">//返回一个对象</div><div class="line">function example()&#123;</div><div class="line">   return &#123;x:&quot;X&quot;,y:&quot;Y&quot;&#125;</div><div class="line">&#125;</div><div class="line">let [x,y]=example();</div></pre></td></tr></table></figure></p>
<p>####函数参数的定义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">function g([x,y,z])&#123;&#125;</div><div class="line">g([1,2,3])</div></pre></td></tr></table></figure></p>
<p>####提取JSON数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//解构赋值对提取JSON对象中的数据尤其有用</div><div class="line">let jsonData=&#123;</div><div class="line">   id: 4,</div><div class="line">   status: &quot;ok&quot;,</div><div class="line">   data:[&#123;&quot;a&quot;:&quot;AA&quot;&#125;,&#123;&quot;b&quot;:&quot;BB&quot;&#125;]</div><div class="line">&#125;</div><div class="line">let &#123;id,status,data:result&#125;=jsonData;</div><div class="line">console.log(id,status,result)</div></pre></td></tr></table></figure></p>
<p>####函数参数的默认值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$.ajax=function(&#123;</div><div class="line">   type=&quot;get&quot;,</div><div class="line">   async=true,</div><div class="line">   cache=true,</div><div class="line">   global=true</div><div class="line">&#125;)&#123;</div><div class="line">   //函数体</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>####遍历Map结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//后面单独拿出来将</div><div class="line">//任何部署了Iterator接口的对象,都可以使用for....of循环遍历.Map结构原生支持Iterator接口,配合变量的解构赋值,获取键名和键值非常方便</div><div class="line">let map = new Map();</div><div class="line">map.set(&quot;a&quot;,&quot;A&quot;);</div><div class="line">map.set(&quot;b&quot;,&quot;B&quot;);</div><div class="line">for(let [key,value] of map)&#123;</div><div class="line">   console.log(key+&quot;:&quot;+value)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>####输入模块的指定方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//加载模块时</div><div class="line">const &#123;component&#125;=require(&apos;vue-router&apos;)</div></pre></td></tr></table></figure></p>
<p>##三.字符串的扩展</p>
<p>###includes(),startsWidth(),endsWidth()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//includes() 判断字符串中有没有指定字符,有的话返回true,没有返回false</div><div class="line">//第二个参数:开始查找的索引 默认是0</div><div class="line">let str=&apos;asdfghjkl&apos;;</div><div class="line">console.log(str.includes(&apos;a&apos;,2));</div><div class="line">//startsWith()是不是以某个字符作为开头</div><div class="line">//endsWith()是不是以某个字符作为结尾</div><div class="line">//第二个参数:开始查找的索引 默认是0</div><div class="line">console.log(str.startsWith(&quot;d&quot;,2));</div><div class="line">console.log(str.endsWith(&quot;l&quot;));</div></pre></td></tr></table></figure></p>
<p>###repeat()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//repeat(n),将字符串重复n次返回,原字符串不变</div><div class="line">   console.log(str.repeat(2),str);</div><div class="line">//小数 向下取整</div><div class="line">   console.log(str.repeat(2.6));</div><div class="line"></div><div class="line">//负数/Infinity 报错的</div><div class="line">   console.log(str.repeat(-2));</div><div class="line">   console.log(str.repeat(Infinity));</div><div class="line">//0-&gt;-1 :先进行向下取整运算结果为0</div><div class="line">   console.log(str.repeat(-0.3));//&apos;&apos;</div><div class="line">//NaN =&gt; 0</div><div class="line">   console.log(str.repeat(NaN));//&apos;&apos;</div><div class="line">//字符串 将字符串变为数字</div><div class="line">    console.log(str.repeat(&quot;2&quot;));</div></pre></td></tr></table></figure></p>
<p>###padStart(),padEnd()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//ES7</div><div class="line">&quot;x&quot;.padStart(5,&quot;ab&quot;);//&quot;ababx&quot;</div><div class="line">&quot;x&quot;.padStart(4,&quot;ab&quot;);//&quot;abax&quot;</div><div class="line">&quot;x&quot;.padEnd(5,&quot;ab&quot;);//&quot;xabab&quot;</div><div class="line">&quot;x&quot;.padEnd(4,&quot;ab&quot;);//&quot;xaba&quot;</div><div class="line">&quot;x&quot;.padStart(4);//&quot;   x&quot;</div></pre></td></tr></table></figure></p>
<p>###模板字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line"> let str=&apos;I LOVE YOU&apos;;</div><div class="line"> document.body.innerHTML=&apos;&lt;h1&gt;&apos;+str+&apos;&lt;h1&gt;&apos;;</div><div class="line"> let str1=`&lt;h1&gt;$&#123;str&#125;&lt;/h1&gt;`;</div><div class="line"> document.body.innerHTML+=str1;</div><div class="line"></div><div class="line"> //保留换行和空格</div><div class="line"> console.log(&quot;hahahhah\nhhahah&quot;);</div><div class="line"> let s1=`hahah</div><div class="line">    ggagga</div><div class="line">    hhhh</div><div class="line">    `;</div><div class="line"> console.log(s1);</div><div class="line"></div><div class="line"> //\`</div><div class="line">    console.log(`sss\`1234`);</div><div class="line"></div><div class="line"> //&#123;可以实现运算&#125;</div><div class="line"> let x=1;</div><div class="line"> let y=2;</div><div class="line"> console.log(`$&#123;x&#125;+$&#123;y&#125;=$&#123;x + y&#125;`);</div><div class="line"></div><div class="line"> //调用函数</div><div class="line">    function fn(x) &#123;</div><div class="line">        return x</div><div class="line">    &#125;</div><div class="line">    let s2=&quot;XXX&quot;;</div><div class="line">    console.log(`函数fn输出的结果是$&#123;fn(s2)&#125;`);</div><div class="line"></div><div class="line">    let  s3=&apos;return&apos;+&apos;`Hello $&#123;wd&#125;`&apos;;</div><div class="line">    let fun=new Function(&apos;wd&apos;,s3);</div><div class="line">    console.log(fun(&quot;ZFPX&quot;));</div><div class="line">//Hello ZFPX</div></pre></td></tr></table></figure></p>
<p>##六.数组的扩展</p>
<p>###Array.from()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//Array.from()</div><div class="line">// 将一个数组和类数组转化为数组</div><div class="line">// 返回值是一个新数组</div><div class="line">// 原来数组不变</div><div class="line">let oldArr=[1,2,3,&quot;a&quot;,&quot;b&quot;];</div><div class="line">let newArr=Array.from(oldArr);</div><div class="line">console.log(newArr);</div></pre></td></tr></table></figure></p>
<p>###Array.of()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//of 将一组数值转化为数组,类似Array方法</div><div class="line">console.log(Array.of(1,2,3))</div></pre></td></tr></table></figure></p>
<p>###数组实例的copyWithin()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//Array.prototype.copyWithin(target,start,end)</div><div class="line">//target(必需)：从该位置开始替换数据。</div><div class="line">//start(可选)：从该位置开始读取数据，默认为 0 。如果为负值，表示倒数。</div><div class="line">//end(可选)：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示倒数。</div><div class="line">//这三个参数都应该是数值，如果不是，会自动转为数值。</div><div class="line">    let arr = [1, 2, 3, 4, 5];</div><div class="line">    arr.copyWithin(0, 1, 5);</div><div class="line">    console.log(arr);</div></pre></td></tr></table></figure></p>
<p>###数组实例的find()和findIndex()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">let arr=[1,2,3,3,4,5];</div><div class="line">//返回值是找到的那一项,没有就是undefined</div><div class="line">let find=arr.find((item,index,arr)=&gt;&#123;</div><div class="line">    //item当前项,index:索引,arr:元素组</div><div class="line">    return item==0;</div><div class="line">&#125;);</div><div class="line">//返回值是找到的那一项的索引,没有就是-1</div><div class="line">let findIndex=arr.findIndex((item,index,arr)=&gt;&#123;</div><div class="line">    return item==0;</div><div class="line">&#125;);</div><div class="line">console.log(find, findIndex);</div></pre></td></tr></table></figure></p>
<p>###数组实例的fill()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//fill 联想canvas的fill方法填充的意思, 这里是填充数组,明显肯定会改变原数组</div><div class="line">//Array.prototype.fill(value,start,end)</div><div class="line">//value	必需。填充的值。</div><div class="line">//start	可选。开始填充位置(默认值为0)</div><div class="line">//end	可选。停止填充位置 (不包括该值,默认为 array.length)</div><div class="line">    let arr=[1,2,3,4,5];</div><div class="line">    arr.fill(&quot;a&quot;,0,1);</div><div class="line">    console.log(arr);</div></pre></td></tr></table></figure></p>
<p>###数组实例的entries(),keys()和values()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">let arr=[1,2,3,4,5]</div><div class="line">for(let index of arr.keys())&#123;</div><div class="line">        console.log(item);</div><div class="line">    &#125;</div><div class="line">for(let item of arr.values())&#123;</div><div class="line">        console.log(item);</div><div class="line">    &#125;</div><div class="line">for(let [index,item] of arr.entries())&#123;</div><div class="line">        console.log(index,item);</div><div class="line">    &#125;</div><div class="line">let ary2=arr.entries();</div><div class="line">console.log(ary2.next().value);</div><div class="line">console.log(ary2.next().value);</div><div class="line">console.log(ary2.next().value);</div></pre></td></tr></table></figure></p>
<p>###数组实例的includes()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//includes 代替indexOf,返回值是true和false</div><div class="line">let arr=[NaN,&apos;a&apos;,0];</div><div class="line">console.log(arr.indexOf(NaN));</div><div class="line">console.log(arr.includes(NaN));</div><div class="line">//跟indexOf一样第二个参数可选</div></pre></td></tr></table></figure></p>
<p>###数组的空位<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//空位不是undefined,可以使用in方法来检测一下</div><div class="line">//ES5 对空位的处理很不一致</div></pre></td></tr></table></figure></p>
<p>##七.函数的扩展</p>
<p>####基本用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function FF(x=0,y=0)&#123;</div><div class="line">   this.x=x;</div><div class="line">   this.y=y;</div><div class="line">&#125;</div><div class="line">let b=new FF()</div></pre></td></tr></table></figure></p>
<p>####与解构赋值默认值结合起来使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function fn1(&#123;x=0,y=0&#125;=&#123;&#125;)&#123;</div><div class="line">   return [x,y]</div><div class="line">&#125;</div><div class="line">function fn2(&#123;x,y&#125;=&#123;x:0,y:0&#125;)&#123;</div><div class="line">   return [x,y]</div><div class="line">&#125;</div><div class="line">fn1();</div><div class="line">fn2();</div></pre></td></tr></table></figure></p>
<p>####参数默认值得位置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function fn(x,y=8,z)&#123;</div><div class="line">   return [x,y,z]</div><div class="line">&#125;</div><div class="line">fn(1,,3)//报错</div></pre></td></tr></table></figure></p>
<p>####函数的length属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">指定了参数默认值后,length属性返回的是没有默认值的参数长度</div></pre></td></tr></table></figure></p>
<p>####作用域<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//参数的作用域是当前函数</div><div class="line">let x=0;</div><div class="line">function fn (y=x,x)&#123;//报错</div><div class="line">   return [x,y]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>###rest参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">//...参数名</div></pre></td></tr></table></figure></p>
<p>###扩展运算符</p>
<p>####含义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">let print = function(a,b,c)&#123;</div><div class="line">    console.log(a,b,c);</div><div class="line">&#125;</div><div class="line">print([1,2,3]);</div><div class="line">print(...[1,2,3]);</div></pre></td></tr></table></figure></p>
<p>####替代数组的apply方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let ary=[1,2,3]</div><div class="line">Math.apply(null,ary);</div><div class="line">Math(...ary);</div></pre></td></tr></table></figure></p>
<p>####扩展运算符的应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function fn ()&#123;</div><div class="line">   return [...arguments]</div><div class="line">&#125;</div><div class="line">[1,2].concat(1,...ary);</div></pre></td></tr></table></figure></p>
<p>###name属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">let fn=function ()&#123;&#125;;</div><div class="line">console.log(fn.name);</div><div class="line">let obj=&#123;&#125;;</div><div class="line">let ff=fn.bind(obj);</div><div class="line">ff.name</div></pre></td></tr></table></figure></p>
<p>###箭头函数</p>
<p>####基本用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let a=(x)=&gt;x*x;</div><div class="line">ary.forEach((item,index)=&gt;&#123;</div><div class="line">   ary[index]=item*10;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>####使用注意点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function fn()&#123;</div><div class="line">   this;</div><div class="line">   let x=()=&gt;&#123;</div><div class="line">      console.log(this)</div><div class="line">   &#125;</div><div class="line">   x();</div><div class="line">   return x;</div><div class="line">&#125;</div><div class="line">fn();</div><div class="line">let x=fn();</div><div class="line">x();</div><div class="line">fn.call(window)</div></pre></td></tr></table></figure></p>
<p>####嵌套的箭头函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">let fun=(a)=&gt;&#123;</div><div class="line">       return(b)=&gt;&#123;</div><div class="line">           return(c)=&gt;&#123;</div><div class="line">               return a+b+c</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line"> &#125;;</div><div class="line"> console.log(fun(10)(20)(30));</div><div class="line"> let fn=a=&gt;b=&gt;c=&gt;a+b+c;</div><div class="line"> console.log(fn(&quot;1&quot;)(&quot;2&quot;)(&quot;3&quot;));</div></pre></td></tr></table></figure></p>
<p>##八.对象的扩展</p>
<p>###属性的简洁表示法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">let a=&quot;A&quot;;</div><div class="line">let b=&quot;B&quot;;</div><div class="line">let obj3=&#123;a,b&#125;;</div><div class="line">//函数</div><div class="line">let objFn=&#123;</div><div class="line">     fn1:(a,b)=&gt;&#123;</div><div class="line">         console.log(a + b);</div><div class="line">         return a+b;</div><div class="line">     &#125;,</div><div class="line">     fn2(a,b)&#123;</div><div class="line">         console.log(a + b);</div><div class="line">         return a+b;</div><div class="line">     &#125;</div><div class="line">    &#125;;</div></pre></td></tr></table></figure></p>
<p>###属性名的表达方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">let a=&quot;AAA&quot;;</div><div class="line">let obj1=&#123;</div><div class="line">    [a]:&apos;a&apos;,</div><div class="line">    [a+&apos;fn&apos;]()&#123;</div><div class="line">        console.log(a + &apos;fn&apos;);</div><div class="line">    &#125;,</div><div class="line">    a</div><div class="line">&#125;;</div><div class="line">console.log(obj1);</div><div class="line">//&#123;AAA:&quot;a&quot;,AAAfn:ƒ (),a:&quot;AAA&quot;&#125;</div></pre></td></tr></table></figure></p>
<p>###方法的name属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">let obj=&#123;</div><div class="line">   sum()&#123;</div><div class="line">      return eval([...argument].join(&quot;+&quot;));</div><div class="line">   &#125;,</div><div class="line">   add:(...all)=&gt;&#123;</div><div class="line">      return eval(all.join(&quot;+&quot;));</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">obj.add.name</div><div class="line">obj.sum.name</div></pre></td></tr></table></figure></p>
<p>###Object.is()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">console.log(+0 === -0);//true</div><div class="line">console.log(Object.is(+0,-0));//false</div><div class="line">console.log(NaN === NaN);//false</div><div class="line">console.log(Object.is(NaN,NaN));//true</div></pre></td></tr></table></figure></p>
<p>###Object.assign()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//合并对象:Object.assign(obj1,obj2.....)</div><div class="line">//将obj2...合并到obj1上,将obj1返回</div><div class="line">//注意obj2...可以不是一个对象,属性名依次为&quot;0&quot;,&quot;1&quot;....</div><div class="line">Object.assign(&#123;&#125;,obj1)===obj1;</div><div class="line">Object.assign(obj1)===obj1;</div></pre></td></tr></table></figure></p>
<p>###属性的可枚举性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let obj = &#123; foo: 123 &#125;;</div><div class="line">Object.getOwnPropertyDescriptor(obj, &apos;foo&apos;)</div></pre></td></tr></table></figure></p>
<p>###属性的遍历<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">（1）for...in</div><div class="line">for...in循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。</div><div class="line">（2）Object.keys(obj)</div><div class="line">Object.keys返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）。</div><div class="line">（3）Object.getOwnPropertyNames(obj)</div><div class="line">Object.getOwnPropertyNames返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）。</div><div class="line">（4）Object.getOwnPropertySymbols(obj)</div><div class="line">Object.getOwnPropertySymbols返回一个数组，包含对象自身的所有 Symbol 属性。</div><div class="line">（5）Reflect.ownKeys(obj)</div><div class="line">Reflect.ownKeys返回一个数组，包含对象自身的所有属性，不管属性名是 Symbol 或字符串，也不管是否可枚举。</div></pre></td></tr></table></figure></p>
<p>###<strong>proto</strong>属性,Object.setPrototypeOf(),Object.getPrototypeOf()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//如果一个对象本身部署了__proto__属性，则该属性的值就是对象的原型。</div><div class="line">//Object.setPrototypeOf(object, prototype)</div><div class="line">//Object.getPrototypeOf(obj)</div><div class="line">//该方法与Object.setPrototypeOf方法配套，用于读取一个对象的原型对象。</div></pre></td></tr></table></figure></p>
<p>##十.Proxy和Reflect</p>
<p>###Proxy概述<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let proxy=new Proxy(&#123;a:&quot;a&quot;,b:&quot;b&quot;&#125;,&#123;&#125;);</div><div class="line">proxy.a;</div><div class="line">proxy.b=&quot;bb&quot;;</div></pre></td></tr></table></figure></p>
<p>###Proxy实例的方法</p>
<p>####get()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">get方法用于拦截某个属性的读取操作。上文已经有一个例子，下面是另一个拦截读取操作的例子。</div></pre></td></tr></table></figure></p>
<p>####set()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set方法用来拦截某个属性的赋值操作。</div></pre></td></tr></table></figure></p>
<p>####apply()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">apply方法拦截函数的调用、call和apply操作。</div><div class="line">apply方法可以接受三个参数，分别是目标对象、目标对象的上下文对象（this）和目标对象的参数数组。</div></pre></td></tr></table></figure></p>
<p>####has()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">has方法用来拦截HasProperty操作，即判断对象是否具有某个属性时，这个方法会生效。典型的操作就是in运算符。</div></pre></td></tr></table></figure></p>
<p>####construct()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">construct方法用于拦截new命令，下面是拦截对象的写法</div><div class="line">参数:</div><div class="line">target: 目标对象</div><div class="line">args：构建函数的参数对象</div></pre></td></tr></table></figure></p>
<p>####deleteProperty()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">deleteProperty方法用于拦截delete操作，如果这个方法抛出错误或者返回false，当前属性就无法被delete命令删除。</div></pre></td></tr></table></figure></p>
<p>####defineProperty()</p>
<p>####enunerate()</p>
<p>####getOwnPropertyDsecriptor()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getOwnPropertyDescriptor方法拦截Object.getOwnPropertyDescriptor()，返回一个属性描述对象或者undefined。</div></pre></td></tr></table></figure></p>
<p>####getPrototypeOf()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">getPrototypeOf方法主要用来拦截获取对象原型。具体来说，拦截下面这些操作。</div><div class="line"></div><div class="line">Object.prototype.__proto__</div><div class="line">Object.prototype.isPrototypeOf()</div><div class="line">Object.getPrototypeOf()</div><div class="line">Reflect.getPrototypeOf()</div><div class="line">instanceof</div></pre></td></tr></table></figure></p>
<p>####isExtensible()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">isExtensible方法拦截Object.isExtensible操作。</div><div class="line">上面代码设置了isExtensible方法，在调用Object.isExtensible时会输出called。</div><div class="line">注意，该方法只能返回布尔值，否则返回值会被自动转为布尔值。</div></pre></td></tr></table></figure></p>
<p>####ownKeys()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ownKeys方法用来拦截对象自身属性的读取操作。具体来说，拦截以下操作。</div><div class="line">Object.getOwnPropertyNames()</div><div class="line">Object.getOwnPropertySymbols()</div><div class="line">Object.keys()</div></pre></td></tr></table></figure></p>
<p>####preventExtensions()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">preventExtensions方法拦截Object.preventExtensions()。该方法必须返回一个布尔值，否则会被自动转为布尔值。</div><div class="line"></div><div class="line">这个方法有一个限制，只有目标对象不可扩展时（即Object.isExtensible(proxy)为false），proxy.preventExtensions才能返回true，否则会报错。</div></pre></td></tr></table></figure></p>
<p>####setPrototypeOf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setPrototypeOf() </div><div class="line">setPrototypeOf方法主要用来拦截Object.setPrototypeOf方法。</div></pre></td></tr></table></figure></p>
<p>###Proxy.revocable()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Proxy.revocable()</div><div class="line">Proxy.revocable方法返回一个可取消的 Proxy 实例。</div><div class="line">let target = &#123;&#125;;</div><div class="line">let handler = &#123;&#125;;</div><div class="line"></div><div class="line">let &#123;proxy, revoke&#125; = Proxy.revocable(target, handler);</div><div class="line"></div><div class="line">proxy.foo = 123;</div><div class="line">proxy.foo // 123</div><div class="line"></div><div class="line">revoke();</div><div class="line">proxy.foo // TypeError: Revoked</div><div class="line">Proxy.revocable方法返回一个对象，该对象的proxy属性是Proxy实例，revoke属性是一个函数，可以取消Proxy实例。上面代码中，当执行revoke函数之后，再访问Proxy实例，就会抛出一个错误。</div></pre></td></tr></table></figure></p>
<p>###Reflect概述</p>
<p>###Reflect对象的方法</p>
<p>##十一.Set和Map数据结构</p>
<p>###Set</p>
<p>####基本用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//new Set(数组),会去除重复项,得到是个类数组</div><div class="line">let set1=new Set([&#123;&#125;,&#123;&#125;,&apos;a&apos;,&quot;a&quot;,NaN,NaN,null,null,undefined,undefined,0,-0,+0,]);</div></pre></td></tr></table></figure></p>
<p>####Set实例的属性和方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//基本操作,Set原型上的共有方法</div><div class="line">//add 添加  返回值:增加后的set</div><div class="line">//delete 删除  返回值:是否删除成功</div><div class="line">//has 查找 返回值:是否存在当前项</div><div class="line">//clear 清空 无返回值</div></pre></td></tr></table></figure></p>
<p>####遍历操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//遍历操作</div><div class="line">    //keys</div><div class="line">    //values</div><div class="line">    //entries</div><div class="line">    //forEach</div></pre></td></tr></table></figure></p>
<p>###WeakSet<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//只有一下三种方法</div><div class="line">   //add</div><div class="line">   //delete</div><div class="line">   //has</div><div class="line">   let obj1=&#123;a:&quot;a&quot;&#125;;</div><div class="line">   let obj2=&#123;b:&quot;b&quot;&#125;;</div><div class="line">   let weak=new WeakSet([obj1,obj2]);</div><div class="line">   console.log(weak);</div></pre></td></tr></table></figure></p>
<p>###Map</p>
<p>####Map结构的目的和基本用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">//我们说了对象的属性名必须是字符串,所以会默认讲其转为字符串,当做键值</div><div class="line">    //为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</div><div class="line">    //Map属于类数组</div><div class="line"></div><div class="line">    //1.第一种方式</div><div class="line">    let map = new Map();</div><div class="line">    map.set(ary, &quot;哈哈&quot;);</div><div class="line">    map.set(o, &quot;嘿嘿&quot;);</div><div class="line">    console.log(map);</div><div class="line"></div><div class="line"></div><div class="line">    //2.第二种方式</div><div class="line">    let map1 = new Map([[ary, &quot;哈哈&quot;], [o, &quot;嘿嘿&quot;]]);</div><div class="line">    console.log(map1);</div><div class="line"></div><div class="line">    //3.get方式获取</div><div class="line">    console.log(map.get(o));</div><div class="line">    console.log(map1.get(ary));</div><div class="line"></div><div class="line">    //4.Map 转数组</div><div class="line">    let arr=[...map];</div><div class="line">    let arr1=[...map1];</div><div class="line">    console.log(arr, arr1);</div><div class="line"></div><div class="line">    //5. 数组转为Map</div><div class="line">    let ary1=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;];</div><div class="line">    let mapVal=ary1.map((item,index,arr)=&gt;[index,item]);</div><div class="line">    let arrToMap=new Map(mapVal);</div><div class="line">    console.log(arrToMap)</div></pre></td></tr></table></figure></p>
<p>####实例的属性和操作方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//属性和方法</div><div class="line">    // size:返回 Map 结构的成员总数</div><div class="line">    // set(key, value):设置键名key对应的键值为value，然后返回整个 Map 结构(因此可以采用链式写法)。如果key已经有值，则键值会被更新，否则就新生成该键。</div><div class="line">    // get(key):读取key对应的键值，如果找不到key，返回undefined</div><div class="line">    // has:返回一个布尔值，表示某个键是否在当前 Map 对象之中。</div><div class="line">    // delete:删除某个键，返回true。如果删除失败，返回false。</div><div class="line">    // clear:清除所有成员，没有返回值。</div></pre></td></tr></table></figure></p>
<p>####遍历方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// keys()：返回键名的遍历器。</div><div class="line">// values()：返回键值的遍历器。 </div><div class="line">// entries()：返回所有成员的遍历器。</div><div class="line">// forEach()：遍历 Map 的所有成员</div></pre></td></tr></table></figure></p>
<p>####以其他数据结构的相互转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">//（1）Map 转为数组</div><div class="line">    //前面已经提过，Map 转为数组最方便的方法，就是使用扩展运算符（...）。</div><div class="line">    const myMap = new Map()</div><div class="line">        .set(true, 7)</div><div class="line">        .set(&#123;foo: 3&#125;, [&apos;abc&apos;]);</div><div class="line">    console.log([...myMap]);</div><div class="line"></div><div class="line">    //（2）数组 转为 Map</div><div class="line">    //将数组传入 Map 构造函数，就可以转为 Map。</div><div class="line">    new Map([</div><div class="line">        [true, 7],</div><div class="line">        [&#123;foo: 3&#125;, [&apos;abc&apos;]]</div><div class="line">    ]);</div><div class="line">    </div><div class="line">    //（3）Map 转为对象</div><div class="line">    //如果所有 Map 的键都是字符串，它可以转为对象。</div><div class="line">    function strMapToObj(strMap) &#123;</div><div class="line">        let obj = Object.create(null);</div><div class="line">        for (let [k,v] of strMap) &#123;</div><div class="line">            obj[k] = v;</div><div class="line">        &#125;</div><div class="line">        return obj;</div><div class="line">    &#125;</div><div class="line">    const myMap = new Map()</div><div class="line">        .set(&apos;yes&apos;, true)</div><div class="line">        .set(&apos;no&apos;, false);</div><div class="line">    strMapToObj(myMap);</div><div class="line"></div><div class="line">    //（4）对象转为 Map</div><div class="line">    function objToStrMap(obj) &#123;</div><div class="line">        let strMap = new Map();</div><div class="line">        for (let k of Object.keys(obj)) &#123;</div><div class="line">            strMap.set(k, obj[k]);</div><div class="line">        &#125;</div><div class="line">        return strMap;</div><div class="line">    &#125;</div><div class="line">    objToStrMap(&#123;yes: true, no: false&#125;);</div><div class="line"></div><div class="line">    //（5）Map 转为 JSON</div><div class="line">    //Map 转为 JSON 要区分两种情况。一种情况是，Map 的键名都是字符串，这时可以选择转为对象 JSON。</div><div class="line">    function strMapToJson(strMap) &#123;</div><div class="line">        return JSON.stringify(strMapToObj(strMap));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    let myMap = new Map().set(&apos;yes&apos;, true).set(&apos;no&apos;, false);</div><div class="line">    strMapToJson(myMap);</div><div class="line"></div><div class="line">    //另一种情况是，Map 的键名有非字符串，这时可以选择转为数组 JSON。</div><div class="line">    function mapToArrayJson(map) &#123;</div><div class="line">        return JSON.stringify([...map]);</div><div class="line">    &#125;</div><div class="line">    let myMap = new Map().set(true, 7).set(&#123;foo: 3&#125;, [&apos;abc&apos;]);</div><div class="line">    mapToArrayJson(myMap);</div><div class="line"></div><div class="line">    //（6）JSON 转为 Map</div><div class="line">    //JSON 转为 Map，正常情况下，所有键名都是字符串。</div><div class="line">    function jsonToStrMap(jsonStr) &#123;</div><div class="line">        return objToStrMap(JSON.parse(jsonStr));</div><div class="line">    &#125;</div><div class="line">    jsonToStrMap(&apos;&#123;&quot;yes&quot;: true, &quot;no&quot;: false&#125;&apos;);</div><div class="line"></div><div class="line">    //但是，有一种特殊情况，整个 JSON 就是一个数组，且每个数组成员本身，又是一个有两个成员的数组。这时，它可以一一对应地转为Map。这往往是数组转为 JSON 的逆操作。</div><div class="line">    function jsonToMap(jsonStr) &#123;</div><div class="line">        return new Map(JSON.parse(jsonStr));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    jsonToMap(&apos;[[true,7],[&#123;&quot;foo&quot;:3&#125;,[&quot;abc&quot;]]]&apos;);</div></pre></td></tr></table></figure></p>
<p>###WeakMap<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//WeakMap结构与Map结构类似，也是用于生成键值对的集合。</div><div class="line">    //WeakMap与Map的区别有两点。</div><div class="line">    //1)WeakMap只接受对象作为键名（null除外），不接受其他类型的值作为键名。</div><div class="line">    //2)WeakMap的键名所指向的对象，不计入垃圾回收机制。</div><div class="line">    //WeakMap 就是为了解决这个内存泄漏而诞生的，它的键名所引用的对象都是弱引用，即垃圾回收机制不将该引用考虑在内。因此，只要所引用的对象的其他引用都被清除，垃圾回收机制就会释放该对象所占用的内存。也就是说，一旦不再需要，WeakMap 里面的键名对象和所对应的键值对会自动消失，不用手动删除引用。</div><div class="line"></div><div class="line">   // 基本上，如果你要往对象上添加数据，又不想干扰垃圾回收机制，就可以使用 WeakMap。一个典型应用场景是，在网页的 DOM 元素上添加数据，就可以使用WeakMap结构。当该 DOM 元素被清除，其所对应的WeakMap记录就会自动被移除。</div><div class="line"></div><div class="line">    //只有四个方法可用：get()、set()、has()、delete()。</div></pre></td></tr></table></figure></p>
<p>##十二.Iterator和for…of循环</p>
<p>###Iterator的概念</p>
<p>###数据结构的默认Iterator接口</p>
<p>###调用iterator接口场合</p>
<p>###字符串的iterator接口</p>
<p>###Iterator接口和Generator函数</p>
<p>###遍历器对象的return(),throw函数</p>
<p>###for …. of循环</p>
<p>####数组</p>
<p>####Set和Map结构</p>
<p>####计算生成的数据结构</p>
<p>####类似数组的对象</p>
<p>####对象</p>
<p>####与其他遍历语法的比较</p>
<p>##十三.Generactor函数</p>
<p>###简介</p>
<p>####基本概念</p>
<p>####yield语句</p>
<p>####与Iterator接口的关系</p>
<p>###next 方法的参数</p>
<p>###for…of 循环</p>
<p>###Generator.prototype.throw()</p>
<p>###Generator.prototype.return()</p>
<p>###yield* 表达式</p>
<p>###作为对象属性的Generator函数</p>
<p>###Generator 函数的this</p>
<p>###含义</p>
<p>####Generator与状态机</p>
<p>####Generator与协程</p>
<p>###应用</p>
<p>##十四.Promise对象</p>
<p>###Promise 的含义</p>
<p>###基本用法</p>
<p>###Promise.prototype.then()</p>
<p>###Promise.prototype.catch()</p>
<p>###Promise.all()</p>
<p>###Promise.race()</p>
<p>###Promise.resolve()</p>
<p>###Promise.reject()</p>
<p>###两个有用的附加方法</p>
<p>####done()</p>
<p>####dinally()</p>
<p>###应用</p>
<p>####加载图片</p>
<p>####Generator函数与Promise结合</p>
<p>###async函数</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2017 王诗杰
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>